{
  "description": "Branch protection configuration for MACHUPS repository",
  "version": "1.0.0",
  "branches": {
    "main": {
      "protection": {
        "required_status_checks": {
          "strict": true,
          "contexts": [
            "lint",
            "type-check",
            "build",
            "test",
            "security-scan",
            "merge-queue-status"
          ]
        },
        "enforce_admins": true,
        "required_pull_request_reviews": {
          "dismissal_restrictions": {},
          "dismiss_stale_reviews": true,
          "require_code_owner_reviews": false,
          "required_approving_review_count": 1,
          "require_last_push_approval": false
        },
        "restrictions": null,
        "required_linear_history": true,
        "allow_force_pushes": false,
        "allow_deletions": false,
        "block_creations": false,
        "required_conversation_resolution": true,
        "lock_branch": false,
        "allow_fork_syncing": false,
        "merge_queue": {
          "enabled": true,
          "merge_method": "SQUASH",
          "build_concurrency": 5,
          "min_entries_to_merge": 0,
          "min_entries_to_merge_wait_minutes": 0,
          "max_entries_to_build": 5,
          "max_entries_to_merge": 1,
          "check_response_timeout_minutes": 60
        }
      }
    },
    "develop": {
      "protection": {
        "required_status_checks": {
          "strict": true,
          "contexts": [
            "lint",
            "type-check",
            "build",
            "test"
          ]
        },
        "enforce_admins": false,
        "required_pull_request_reviews": {
          "dismiss_stale_reviews": true,
          "require_code_owner_reviews": false,
          "required_approving_review_count": 1
        },
        "restrictions": null,
        "required_linear_history": true,
        "allow_force_pushes": false,
        "allow_deletions": false,
        "required_conversation_resolution": true,
        "merge_queue": {
          "enabled": true,
          "merge_method": "SQUASH",
          "build_concurrency": 3,
          "min_entries_to_merge_wait_minutes": 0,
          "max_entries_to_build": 3,
          "max_entries_to_merge": 1
        }
      }
    },
    "phase-*": {
      "protection": {
        "required_status_checks": {
          "strict": true,
          "contexts": [
            "lint",
            "type-check",
            "build"
          ]
        },
        "enforce_admins": false,
        "required_pull_request_reviews": {
          "required_approving_review_count": 1
        },
        "required_linear_history": false,
        "allow_force_pushes": true,
        "allow_deletions": true,
        "merge_queue": {
          "enabled": false
        }
      }
    }
  },
  "notes": {
    "main": "Strictest protection - production branch",
    "develop": "Integration branch - slightly relaxed",
    "phase-*": "Feature branches - allow force push for rebasing"
  },
  "apply_via_api": "Use GitHub REST API or gh CLI to apply these settings"
}
